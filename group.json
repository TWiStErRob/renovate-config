{
	"$schema": "https://docs.renovatebot.com/renovate-schema.json",
	"all": {
		"extends": [
			"group:monorepos",
			"group:recommended",
			"github>TWiStErRob/renovate-config:group/kotlin",
			"github>TWiStErRob/renovate-config:group/ktor",
			"github>TWiStErRob/renovate-config:group/detekt",
			"github>TWiStErRob/renovate-config:group/agp",
			"github>TWiStErRob/renovate-config:group/androidx",
			"github>TWiStErRob/renovate-config:group/androidx-test",
			"github>TWiStErRob/renovate-config:group/mockito"
		]
	},
	"kotlin": {
		"description": "Group together all dependencies from Kotlin, Dokka and KotlinX, including coroutines. See https://github.com/renovatebot/renovate/discussions/14919 and https://regex101.com/r/XTbJ6B/1",
		"packageRules": [
			{
				"groupName": "Kotlin",
				"matchSourceUrlPrefixes": [
					"https://github.com/JetBrains/kotlin",
					"https://github.com/Kotlin/kotlinx.coroutines"
				],
				"versioning": "regex:^1\\.(?<major>\\d+)\\.(?<minor>\\d)-?(?<patch>\\d)?(?<prerelease>(?:-(?:RC\\d*|M\\d+))?(?:-(?:rc|beta|dev|release|space))?(?:-(?<build>\\d+(?:-\\d+)?))?)?$",
				"separateMajorMinor": true,
				"separateMultipleMajor": true,
				"separateMinorPatch": true
			},
			{
				"groupName": "Kotlin",
				"matchPackageNames": [
					"org.jetbrains.kotlin:kotlin-gradle-plugin",
					"org.jetbrains.kotlin.android"
				],
				"versioning": "regex:^1\\.(?<major>\\d+)\\.(?<minor>\\d)-?(?<patch>\\d)?(?<prerelease>(?:-(?:RC\\d*|M\\d+))?(?:-(?:rc|beta|dev|release|space))?(?:-(?<build>\\d+(?:-\\d+)?))?)?$",
				"separateMajorMinor": true,
				"separateMultipleMajor": true,
				"separateMinorPatch": true
			},
			{
				"groupName": "Kotlin",
				"matchPackagePatterns": [
					"^org\\.jetbrains\\.kotlin\\.(.+):org\\.jetbrains\\.kotlin\\.(\\$1)\\.gradle\\.plugin"
				],
				"versioning": "regex:^1\\.(?<major>\\d+)\\.(?<minor>\\d)-?(?<patch>\\d)?(?<prerelease>(?:-(?:RC\\d*|M\\d+))?(?:-(?:rc|beta|dev|release|space))?(?:-(?<build>\\d+(?:-\\d+)?))?)?$",
				"separateMajorMinor": true,
				"separateMultipleMajor": true,
				"separateMinorPatch": true
			}
		]
	},
	"ktor": {
		"packageRules": [
			{
				"groupName": "ktor.io monorepo",
				"description": "Group together all dependencies of ktor.",
				"matchSourceUrlPrefixes": [
					"https://github.com/ktorio/ktor"
				]
			}
		]
	},
	"detekt": {
		"packageRules": [
			{
				"groupName": "Detekt monorepo",
				"description": "Group together all dependencies of Detekt.",
				"matchSourceUrlPrefixes": [
					"https://github.com/detekt/detekt"
				]
			},
			{
				"groupName": "Detekt monorepo",
				"description": "Group together all dependencies of Detekt.",
				"matchPackageNames": [
					"io.gitlab.arturbosch.detekt",
					"io.gitlab.arturbosch.detekt:io.gitlab.arturbosch.detekt.gradle.plugin"
				]
			}
		]
	},
	"agp": {
		"packageRules": [
			{
				"groupName": "Android Gradle Plugin",
				"description": "Group together all dependencies and plugin aliases from AGP.",
				"matchPackageNames": [
					"com.android.tools.build:gradle",
					"com.android.application",
					"com.android.library"
				],
				"separateMajorMinor": true,
				"separateMultipleMajor": true,
				"separateMinorPatch": true
			}
		]
	},
	"androidx": {
		"packageRules": [
			{
				"groupName": "AndroidX Monorepo",
				"description": "Group together all dependencies from AndroidX.",
				"matchPackagePrefixes": [
					"androidx."
				]
			}
		]
	},
	"androidx-test": {
		"packageRules": [
			{
				"groupName": "AndroidX Test Monorepo",
				"description": "Group together all dependencies from AndroidX Test (Espresso).",
				"matchPackagePrefixes": [
					"androidx.test:",
					"androidx.test.espresso:"
				]
			}
		]
	},
	"mockito": {
		"packageRules": [
			{
				"groupName": "mockito monorepo",
				"description": "Add nhaarman dependency to builtin 'mockito monorepo' group.",
				"matchPackageNames": [
					"com.nhaarman.mockitokotlin2:mockito-kotlin",
					"com.nhaarman:mockito-kotlin"
				]
			}
		]
	}
}
